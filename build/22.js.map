{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, ModalController, NavController, NavParams, Platform} from 'ionic-angular';\nimport {AuthManagerProvider} from \"../../providers/auth-manager/auth-manager\";\nimport {FormBuilder, Validators} from \"@angular/forms\";\nimport {HomePage} from \"../home/home\";\nimport {TouchManagerProvider} from \"../../providers/touch-manager/touch-manager\";\nimport {isCordovaAvailable} from \"../../services/is-cordova-available\";\nimport {GuiManagerProvider} from \"../../providers/gui-manager/gui-manager\";\nimport {StorageManagerProvider} from \"../../providers/storage-manager/storage-manager\";\nimport {LinkManagerProvider} from \"../../providers/link-manager/link-manager\";\nimport {AngularFireAuth} from \"@angular/fire/auth\";\nimport {ElectronProvider} from \"../../providers/electron/electron\";\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-login',\n    templateUrl: 'login.html'\n})\nexport class LoginPage {\n\n    registrationcode = '';\n    username = '';\n    usernameTwo = '';\n    authkey = '';\n    passwordOne = '';\n    passwordTwo = '';\n    registerLogin = \"login\";\n    birthday = '';\n    fallnummer = '';\n    showHelpText = true;\n    privacyChecked = false;\n    agbChecked = false;\n    personalDataChecked = false;\n\n    loginPassword = '';\n\n    loginForm;\n    registerForm;\n\n    passwordType: string = 'password';\n    passwordIcon: string = 'eye-off';\n\n    /**\n     * Hides or un-hides the password in the UI.\n     */\n    hideShowPassword() {\n        this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n        this.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\n    }\n\n    /**\n     * Returns if the login form is valid\n     */\n    get loginFormValid() {\n        return this.loginForm.valid;\n    }\n\n    /**\n     * Returns if the registration form is valid\n     */\n    get registerFormValid() {\n        return this.registerForm.valid && this.passwordTwo == this.passwordOne && this.username === this.usernameTwo;\n    }\n\n    constructor(public navCtrl: NavController, private modalCtrl: ModalController,\n                public navParams: NavParams, private authManager: AuthManagerProvider, formBuilder: FormBuilder, private touchManager: TouchManagerProvider,\n                private guiManager: GuiManagerProvider, private modelCtrl: ModalController, private storageManager: StorageManagerProvider, private linkManager: LinkManagerProvider,\n                private electron:ElectronProvider,\n                private platform: Platform,\n                private afAuth: AngularFireAuth,) {\n        this.loginForm = formBuilder.group({\n            loginEmail: [this.username, Validators.compose([Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$'), Validators.required])],\n            loginPass: [this.loginPassword, Validators.compose([Validators.minLength(5), Validators.required])]\n        });\n\n        this.registerForm = formBuilder.group({\n            /*code: [this.authkey, Validators.compose([Validators.maxLength(15), Validators.minLength(12), Validators.required])],*/\n            birthday: [this.birthday, Validators.compose([Validators.required, Validators.pattern('^[0-3][0-9][.][0-1][0-9][.][0-9]{4}$')])],\n            registrationcode: [this.registrationcode, Validators.compose([Validators.required])],\n            email: [this.username, Validators.compose([Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$'), Validators.required])],\n            pass: [this.passwordOne, Validators.compose([Validators.minLength(5), Validators.required])],\n            pass2: [this.passwordTwo, Validators.compose([Validators.minLength(5), Validators.required])]\n        })\n    }\n\n    /**\n     * Assists user to write properly the date by removing regularly used characters to dots.\n     * @param enteredDate\n     */\n    helpCorrectDate(enteredDate) {\n        this.birthday = enteredDate.replace(\",\", \".\").replace(\"/\", \".\").replace(\"-\", \".\")\n    }\n\n    /**\n     * Transitions view and opens the home page.\n     */\n    openHomePage() {\n        this.navCtrl.setRoot(HomePage);\n    }\n\n    /**\n     * Opens the modal for help/instructions on the login process.\n     */\n    public openInstructionsForRegistration() {\n        this.modelCtrl.create('TextPage', {\n            html: true,\n            closeable: true,\n            target: this.linkManager.getRegistrierungsanweisungenAsJSON()\n        }).present();\n    }\n\n    /**\n     * Registers the user\n     */\n    public  tryRegister() {\n        // this.modalCtrl.create('TextPage', {html: true, closeable: true,}).present();\n        if (this.agbChecked == true && this.privacyChecked == true) {\n\n        if (this.registrationcode.length >= 12) {\n          this.authManager.registerWithInvitationNumber(this.username, this.passwordOne, this.passwordTwo, this.registrationcode, (success) => {\n            if (success == true) {\n                this.sendEmailVerification();\n            }\n\n            if (isCordovaAvailable()) this.handleTouchId(this.username, this.passwordOne);\n          })\n        }\n        else {\n          this.authManager.registerWithFallnummer(this.username, this.passwordOne, this.passwordTwo, this.registrationcode, this.birthday, (success) => {\n            if (success == true) {\n                this.sendEmailVerification();\n            }\n\n            if (isCordovaAvailable()) this.handleTouchId(this.username, this.passwordOne);\n          })\n        }\n        }\n        else {\n          this.guiManager.showToast(\"Um fortzufahren, müssen Sie mit Datenschutzbestimmungen und Nutzungsbedingungen einverstanden sein.\", 5000)\n        }\n    }\n    private async sendEmailVerification () {\n        this.platform.ready().then(() => {\n            const me = this;\n            this.afAuth.auth.createUserWithEmailAndPassword(this.username, this.passwordOne)\n                .then((credential) => {\n                    const user = credential.user;\n                    user.sendEmailVerification();\n                })\n                .then(() => {\n                    this.modalCtrl.create('EmailConfirmation', {            html: true,\n                        closeable: false,\n                        animated: true,\n                        showBackdrop: true,\n                        selectedEmail:this.username,\n                        backdropDismiss: false}).present();\n\n                    me.afAuth.authState.subscribe((user) => {\n                        console.log(user.emailVerified)\n                        if (user && user.emailVerified) {\n                            console.log(user.emailVerified)\n                            // The user has clicked the verification link and their email has been verified.\n                            // Update the registration status in the storage.\n                            this.storageManager.save('registration', 'login', result => {\n                                console.log(\"Registration status has been updated in storage.\");\n                            });\n                            // Redirect the user to the home page.\n                            this.navCtrl.setRoot(HomePage);\n                            // Handle touch ID authentication (if available).\n                            if (isCordovaAvailable()) this.handleTouchId(this.username, this.passwordOne);\n                        } else {\n                            console.error('No user found.');\n                        }\n                    });\n                })\n        })\n        if (this.electron.isElectron || !isCordovaAvailable()) return;\n\n    }\n\n    handleTouchId(name, password) {\n\n        if (isCordovaAvailable()) this.touchManager.handle(name, password);\n\n    }\n\n    ngOnInit() {\n        console.log(\"Opening registration/login view\");\n        this.storageManager.fetch('registration', result => {\n            console.log(\"Fetched value from storage: \", result);\n            if (result == 'login') {\n                this.registerLogin = 'login';\n            }\n        })\n    }\n\n    ionViewWillLeave() {\n        this.guiManager.isLoginPageActive = false;\n    }\n\n    /**\n     * Logins the user\n     */\n    public tryLogin() {\n        this.authManager.login(this.username, this.loginPassword, (success) => {\n            console.log(\"Trying to log in, success: \", success);\n            if (success == true) {\n                this.navCtrl.setRoot(HomePage);\n                if (isCordovaAvailable()) {\n                    this.handleTouchId(this.username, this.loginPassword);\n                }\n            }\n        });\n    }\n\n    /**\n     * Opens the reset password page\n     */\n    public resetPassword() {\n        /*\n        const item = this.modalCtrl.create('PasswordResetPage', {\n            ac: 'request'\n        });\n\n        item.present();*/\n        this.navCtrl.push(\"mailto:support@clinetplatforms.com\", {\n          ac: \"request\",\n        });\n        // this.navCtrl.push(\"PasswordResetPage\", {\n        //   ac: \"request\",\n        // });\n\n    }\n\n    public get loggedVal() {\n        return \"\";\n    }\n\n    ionViewDidLoad() {\n        this.guiManager.isLoginPageActive = true;\n        if (!isCordovaAvailable()) return\n        this.touchManager.check((result) => {\n            if (result) {\n                this.navCtrl.setRoot(HomePage);\n                this.storageManager.save('registration', 'login', result => {\n                    console.log(\"Registration status has been updated in storage.\")\n                });\n            }\n        });\n    }\n\n    public handleKeyPress(event, input) {\n        if (event.keyCode == 13) {\n            if (input == 'login') {\n                this.tryLogin();\n            } else if (input == 'register') {\n                this.tryRegister();\n            }\n        }\n\n    }\n\n    showAgb(agbs) {\n        if (agbs) {\n\n            this.modelCtrl.create('TextPage', {\n                html: true,\n                closeable: true,\n                target: this.linkManager.getNutungsbedingungenAsHalJSON()\n            }).present();\n\n            return;\n        }\n\n        this.modelCtrl.create('TextPage', {\n            html: true,\n            closeable: true,\n            target: this.linkManager.getDatenschutzAsJSON()\n        }).present();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}